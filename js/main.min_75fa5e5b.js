var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{h(i.next(t))}catch(e){r(e)}}function a(t){try{h(i["throw"](t))}catch(e){r(e)}}function h(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}h((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;h;)try{if(o=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,r=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(s=h.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){h=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){h.label=n[1];break}if(6===n[0]&&h.label<s[1]){h.label=s[1],s=n;break}if(s&&h.label<s[2]){h.label=s[2],h.ops.push(n);break}s[2]&&h.ops.pop(),h.trys.pop();continue}n=e.call(t,h)}catch(i){n=[6,i],r=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,s,a,h={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},CardClass=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(eui.Component);__reflect(CardClass.prototype,"CardClass");var UIGame=function(t){function e(){var e=t.call(this)||this;return e._data=null,e.offX=0,e.offY=0,e.skinName="resource/skin/game/gameSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_yjgj.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnYQGJ,this),this._btn_dj.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnDJ,this),this._btn_zmyz.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnZMYZ,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._btn_openNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnGXYZ,this),this._btn_scaleBig.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnScaleBig,this),this._btn_scaleLittle.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnScaleLittle,this),this._gp_btn_move.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBtnMoveBegin,this),this._gp_btn_move.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onBtnMoveMove,this),this._gp_btn_move.addEventListener(egret.TouchEvent.TOUCH_END,this.onBtnMoveEnd,this),this._gp_btn_move.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onBtnMoveEnd,this),this._timer=new egret.Timer(50),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onCountTimer,this),this._scr.scrollPolicyH="off",this._scr.scrollPolicyV="off"},e.prototype.show=function(t){this._data=t,MScene.ins.addMiddleScene(e.ins),this.refresh()},e.prototype.refresh=function(){UIEquity.ins.init();var t=this;this._btn_scaleBig.visible=!0,this._btn_scaleLittle.visible=!1,this._gp_move.visible=!1,this._btn_dj.enabled=!1,this._btn_xcg.enabled=!1,this._btn_yjgj.enabled=!0,this._gp_move_tip.visible=!1,this._gp_open.visible=!1,this._gp_guajiang.visible=!0,Game_EOS.ins.getController().refreshCardsCount().then(function(e){t.checkGXYZ()}),this._btn_move.x=95,this._btn_move.y=95,this._scr_group.removeChildren(),this._card=new UIGameCard0,this._card.scaleX=1,this._card.scaleY=1,this._card.refresh(),this._scr_group.addChild(this._card)},e.prototype.checkGXYZ=function(){var t=this,e=Game_EOS.ins.getController().cards;e.card2Count>0||e.card1Count>0?t._btn_openNext.enabled=!0:t._btn_openNext.enabled=!1},e.prototype.openDuiJiang=function(){0==Game_EOS.ins.getController().canClaim()?(User.ins.setOpenCard(Game_EOS.ins.getController().game.id),this._gp_open.visible=!0,this._gp_guajiang.visible=!1):(this._data.winMoney=Game_EOS.ins.getController().game.reward.quantity,User.ins.addCardToHistoy(this._data,Game_EOS.ins.getController().game.getResults()),this._gp_open.visible=!1,this._gp_guajiang.visible=!0,this._btn_dj.enabled=!0),this._btn_yjgj.enabled=!1,this._card&&this._card.showWinNum()},e.prototype.autoOpenCardAct=function(){this._card&&this._card.autoOpenCardAct()},e.prototype.getWinMoney=function(){return null!=this._card?this._card.getWinMoney()*this._data.money:0},e.prototype.onCountTimer=function(){var t=this._scr.viewport.scrollH+this.offX;t>0&&500>t&&(this._scr.viewport.scrollH=t);var e=this._scr.viewport.scrollV+this.offY;e>0&&720>e&&(this._scr.viewport.scrollV=e)},e.prototype.onBtnZMYZ=function(){UIBuyCard.ins.show(this._data)},e.prototype.onBtnClose=function(){UIHall.ins.show()},e.prototype.onBtnGXYZ=function(){Game_EOS.ins.openCard(this._data.type,this._data.money)},e.prototype.onBtnYQGJ=function(){this.autoOpenCardAct(),console.log("一起刮奖")},e.prototype.onBtnDJ=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return MScene.ins.showNetWait(!0),t=Game_EOS.ins.getController().canClaim(),t?[4,Game_EOS.ins.getController().claim()]:[3,2];case 1:return e.sent(),this._gp_open.visible=!0,this._gp_guajiang.visible=!1,UIWin.ins.show(1,this._data,Game_EOS.ins.getController().game.reward.quantity),[3,3];case 2:UILoss.ins.show(),e.label=3;case 3:return MScene.ins.showNetWait(!1),[2]}})})},e.prototype.onBtnXCG=function(){},e.prototype.onBtnScaleBig=function(){this._scr.viewport.scrollH=0,this._scr.viewport.scrollV=0,this._gp_move.visible=!0,this._btn_scaleBig.visible=!1,this._btn_scaleLittle.visible=!0,this._card.scaleX=1.5,this._card.scaleY=1.5,this._gp_move_tip.visible=!0,this.moveTipsTime()},e.prototype.onBtnScaleLittle=function(){this._scr.viewport.scrollH=0,this._scr.viewport.scrollV=0,this._gp_move.visible=!1,this._btn_scaleBig.visible=!0,this._btn_scaleLittle.visible=!1,this._card.scaleX=1,this._card.scaleY=1,this._gp_move_tip.visible=!1},e.prototype.moveTipsTime=function(){var t=this;egret.Tween.removeTweens(t._gp_move_tip),egret.Tween.get(t._gp_move_tip).wait(2e3).call(function(){egret.Tween.removeTweens(t._gp_move_tip),t._gp_move_tip.visible=!1})},e.prototype.onBtnMoveBegin=function(t){this._btn_move.x=t.localX,this._btn_move.y=t.localY,this.offX=0,this.offY=0,this._timer.start()},e.prototype.onBtnMoveMove=function(t){this.offX=t.localX-95,this.offY=t.localY-95,this._btn_move.x=t.localX,this._btn_move.y=t.localY},e.prototype.onBtnMoveEnd=function(t){this._btn_move.x=95,this._btn_move.y=95,this._timer.stop()},e}(eui.Component);__reflect(UIGame.prototype,"UIGame");var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){},egret.lifecycle.onResume=function(){};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),egret.Capabilities.isMobile?(this.stage.scaleMode=egret.StageScaleMode.EXACT_FIT,this.stage.orientation=egret.OrientationMode.PORTRAIT):(this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL,this.stage.orientation=egret.OrientationMode.AUTO);var n=this.stage.stageWidth,i=this.stage.stageHeight,o=n/i;egret.log(o),egret.log(this.stage.stageWidth,this.stage.stageHeight),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),this.createGameScene(),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,RES.loadConfig("resource/default.res.json?v="+window.versions,"resource/")];case 1:return n.sent(),[4,this.loadTheme()];case 2:return n.sent(),t=new LoadingUI,this.stage.addChild(t),this.loadResGroup(),[4,RES.loadGroup("preload",0,t)];case 3:return n.sent(),t.close(),this.stage.removeChild(t),[3,5];case 4:return e=n.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,n){var i=new eui.Theme("resource/default.thm.json?v="+window.versions,t.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.loadResGroup=function(){RES.loadGroup("preload0",0),RES.loadGroup("bg",0),RES.loadGroup("load",0),RES.loadGroup("font",0),RES.loadGroup("card0",0),RES.loadGroup("dzbcard",0)},e.prototype.createGameScene=function(){MScene.open(this,comData.ins.width,comData.ins.height),this._timer=new egret.Timer(1e3),this._timer.addEventListener(egret.TimerEvent.TIMER,this.timerOne,this),this._timer.start(),User.ins.init(),Game_EOS.ins.init(),UIHall.ins.show(!0)},e.prototype.timerOne=function(t){User.ins.refreshUserData()},e}(eui.UILayer);__reflect(Main.prototype,"Main"),window.Main=Main;var MScene=function(){function t(){this._mainGroup=null,this._netWait=null,this._lastbottomScene=null,this._lastmiddleScene=null,this._lastwindowScene=null,this._lasttopScene=null,this._lastpopScene=null}return t.open=function(e,n,i){void 0===e&&(e=null),void 0===n&&(n=0),void 0===i&&(i=0),null==t.ins&&(t.ins=new t,t.ins.onCreate(e,n,i))},t.prototype.onCreate=function(t,e,n){this._mainGroup=new eui.Group,t.addChild(this._mainGroup),this._mainGroup.addChild(this._bottomLayer=new eui.Group),this._mainGroup.addChild(this._middleLayer=new eui.Group),this._mainGroup.addChild(this._windowLayer=new eui.Group),this._mainGroup.addChild(this._topLayer=new eui.Group),this._mainGroup.addChild(this._popLayer=new eui.Group),this._bottomLayer.width=e,this._bottomLayer.height=n,this._middleLayer.width=e,this._middleLayer.height=n,this._windowLayer.width=e,this._windowLayer.height=n,this._topLayer.width=e,this._topLayer.height=n,this._popLayer.width=e,this._popLayer.height=n,this._bottomLayer.scaleX=.56888,this._bottomLayer.scaleY=.73812,this._middleLayer.scaleX=.56888,this._middleLayer.scaleY=.73812,this._windowLayer.scaleX=.56888,this._windowLayer.scaleY=.73812,this._topLayer.scaleX=.56888,this._topLayer.scaleY=.73812,this._popLayer.scaleX=.56888,this._popLayer.scaleY=.73812,this._bottomLayer.touchEnabled=!1,this._middleLayer.touchEnabled=!1,this._windowLayer.touchEnabled=!1,this._topLayer.touchEnabled=!1,this._popLayer.touchEnabled=!1,this._netWait=new eui.Rect(e,n),this._mainGroup.addChild(this._netWait),this._netWait.scaleX=.56888,this._netWait.scaleY=.73812,this._netWait.alpha=.7,this._netWait.visible=!1},t.prototype.showNetWait=function(t){this._netWait.visible=t},t.prototype.showTips=function(t,e){void 0===e&&(e=200);var n=new UIFontTips(t,e);n.scaleX=.56888,n.scaleY=.73812,this._mainGroup.addChild(n)},t.prototype.addBottomScene=function(t){this.closeAllScene(),this.addSceneToLayer(this._bottomLayer,t,this._lastbottomScene),this._lastbottomScene=t},t.prototype.addMiddleScene=function(t){this.closeTopScene(),this.closeWindowScene(),this.closepopScene(),this.addSceneToLayer(this._middleLayer,t,this._lastmiddleScene),this._lastmiddleScene=t},t.prototype.addWindowScene=function(t){this.addSceneToLayer(this._windowLayer,t,this._lastwindowScene),this._lastwindowScene=t},t.prototype.addTopScene=function(t){this.addSceneToLayer(this._topLayer,t,this._lasttopScene),this._lasttopScene=t},t.prototype.addpopScene=function(t){this.addSceneToLayer(this._popLayer,t,this._lastpopScene),this._lastpopScene=t},t.prototype.addSceneToBottom=function(t){this._lastbottomScene!=t&&(this.closeBottomScene(),this._lastbottomScene=t,this._bottomLayer.addChild(t))},t.prototype.addSceneToMiddle=function(t){this._lastmiddleScene!=t&&(this.closeMiddleScene(),this._lastmiddleScene=t,this._middleLayer.addChild(t))},t.prototype.addSceneToWindow=function(t){this._lastwindowScene!=t&&(this.closeBottomScene(),this._lastwindowScene=t,this._windowLayer.addChild(t))},t.prototype.addSceneToTop=function(t){this._lasttopScene!=t&&(this.closeTopScene(),this._lasttopScene=t,this._topLayer.addChild(t))},t.prototype.addSceneToPop=function(t){this._lastpopScene!=t&&(this.closepopScene(),this._lastpopScene=t,this._popLayer.addChild(t))},t.prototype.addSceneToLayer=function(t,e,n){null!=t&&(null!=n&&n.close&&n.close(),t.addChild(e))},t.prototype.closeAllScene=function(t){void 0===t&&(t=null),this.closeBottomScene(),this.closeMiddleScene(),this.closeWindowScene(),this.closepopScene(),this._lastbottomScene=null,this._lastmiddleScene=null,this._lastpopScene=null,this._lasttopScene=null,this._lastwindowScene=null,null!=t&&t()},t.prototype.closeBottomScene=function(t){if(void 0===t&&(t=null),0!=this._bottomLayer.numChildren){for(var e=this._bottomLayer.numChildren-1;e>=0;e--){var n=this._bottomLayer.getChildAt(e);n.close&&n.close()}this._bottomLayer.removeChildren(),this._lastbottomScene=null,null!=t&&t()}},t.prototype.closeMiddleScene=function(t){if(void 0===t&&(t=null),0!=this._middleLayer.numChildren){for(var e=this._middleLayer.numChildren-1;e>=0;e--){var n=this._middleLayer.getChildAt(e);n.close&&n.close()}this._middleLayer.removeChildren(),this._lastmiddleScene=null,null!=t&&t()}},t.prototype.closeWindowScene=function(t){if(void 0===t&&(t=null),0!=this._windowLayer.numChildren){for(var e=this._windowLayer.numChildren-1;e>=0;e--){var n=this._windowLayer.getChildAt(e);n.close&&n.close()}this._windowLayer.removeChildren(),this._lastwindowScene=null,null!=t&&t()}},t.prototype.closeTopScene=function(t){if(void 0===t&&(t=null),0!=this._topLayer.numChildren){for(var e=this._topLayer.numChildren-1;e>=0;e--){var n=this._topLayer.getChildAt(e);n.close&&n.close()}this._topLayer.removeChildren(),this._lasttopScene=null,null!=t&&t()}},t.prototype.closepopScene=function(t){if(void 0===t&&(t=null),0!=this._popLayer.numChildren){for(var e=this._popLayer.numChildren-1;e>=0;e--){var n=this._popLayer.getChildAt(e);n.close&&n.close()}this._popLayer.removeChildren(),this._lastpopScene=null,null!=t&&t()}},t.ins=null,t}();__reflect(MScene.prototype,"MScene");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function o(t){e.call(i,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),n.call(i))}var s=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json?v="+window.versions,function(t,n){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(i,generateEUI2)},s)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var h=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(i,generateJSON.paths[t])},this):RES.getResByUrl(h,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){e.call(i,generateJSON.paths[t])},s)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var CCard=function(){function t(){this.winMoney=0}return t}();__reflect(CCard.prototype,"CCard");var ToolCom=function(){function t(){}return t.getWebUrlParams=function(){var t={},e=window.location.href,n=e.indexOf("?");if(this._params.ref="",0>n)this._params=t;else{for(var i=e.substr(n+1).split("&"),o=0;o<i.length;o++){var r=i[o].split("=");t[r[0]]=r[1]}this._params=t}return this._params},t._params={},t}();__reflect(ToolCom.prototype,"ToolCom");var ToolSound=function(){function t(){this._musicOpen=!1,this._lastMusicName="",this._nowMusicName="",this._musicChannel=null,this._musicCallBackFun=null,this._effectOpen=!1,this._lastEffectName="",this._nowEffectName="",this._effectChannel=null,this._effectCallBackFun=null}return Object.defineProperty(t,"ins",{get:function(){return null==t._ins&&(t._ins=new t),t._ins},enumerable:!0,configurable:!0}),t.prototype.playMusic=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=0),void 0===i&&(i=null),void 0===o&&(o=1);var r=this;if(this._lastMusicName=this._nowMusicName,this._nowMusicName=e,this._musicCallBackFun=i,!this._musicOpen){this.stopMusic(),t.musicVolume=o;var s=RES.getRes(r._nowMusicName);s&&(s.type=egret.Sound.MUSIC,this._musicChannel=s.play(0,n),this._musicChannel.volume=t.musicVolume,this._musicChannel.addEventListener(egret.Event.SOUND_COMPLETE,this.onMusicComplete,this))}},t.prototype.loadingPlayBGMusci=function(e){void 0===e&&(e=null);var n=this,i=new egret.Sound;i.load("resource/assets/music/"+e),i.type=egret.Sound.MUSIC,i.addEventListener(egret.Event.COMPLETE,function(){n._musicChannel=i.play(0,0),n._musicChannel.volume=t.musicVolume,n._musicChannel.addEventListener(egret.Event.SOUND_COMPLETE,n.onMusicComplete,n)},this)},t.prototype.onMusicComplete=function(t){null!=this._musicCallBackFun&&this._musicCallBackFun(),this.stopMusic()},t.prototype.stopMusic=function(){this._musicChannel&&(this._musicChannel.stop(),this._musicChannel.removeEventListener(egret.Event.SOUND_COMPLETE,this.onMusicComplete,this),this._musicChannel=null)},t.prototype.getMusicOpen=function(){return this._musicOpen},t.prototype.musicSwitch=function(){this._musicOpen=!this._musicOpen,this._nowMusicName&&(this._musicOpen?this.stopMusic():this.playMusic())},t.prototype.setMusicOpen=function(t){void 0===t&&(t=!0),this._musicOpen=t,1==t?egret.localStorage.setItem("sound","yes"):egret.localStorage.setItem("sound","no")},t.prototype.playEffect=function(e,n,i){void 0===e&&(e=null),void 0===n&&(n=1),void 0===i&&(i=null);if(this._lastEffectName=this._nowEffectName,this._nowEffectName=e,this._effectCallBackFun=i,!this._effectOpen){this.stopEffect();var o=RES.getRes(this._nowEffectName);o&&(o.type=egret.Sound.EFFECT,this._effectChannel=o.play(0,n),this._effectChannel.volume=t.effectVolume,this._effectChannel.addEventListener(egret.Event.SOUND_COMPLETE,this.oneffectComplete,this))}},t.prototype.oneffectComplete=function(t){this.stopEffect()},t.prototype.stopEffect=function(){this._effectChannel&&(this._effectChannel.stop(),this._effectChannel.removeEventListener(egret.Event.SOUND_COMPLETE,this.oneffectComplete,this),this._effectChannel=null)},t.prototype.setEffectOpen=function(t){void 0===t&&(t=!0),this._effectOpen=t,1==t?egret.localStorage.setItem("effect","yes"):egret.localStorage.setItem("effect","no")},t.prototype.effectSwitch=function(){this._effectOpen=!this._effectOpen},t.prototype.getEffectOpen=function(){return this._effectOpen},t.prototype.initOpenInfo=function(){this._musicOpen=!0,this._effectOpen=!0,"no"==egret.localStorage.getItem("effect")&&(this._effectOpen=!1),"no"==egret.localStorage.getItem("sound")&&(this._musicOpen=!1)},t.prototype.switchAll=function(){this.effectSwitch(),this.musicSwitch()},t.musicVolume=1,t.effectVolume=1,t._ins=null,t}();__reflect(ToolSound.prototype,"ToolSound");var ToolString=function(){function t(){}return t.splitToNumber=function(t){for(var e=new Array,n="",i=0;i<t.length;++i)parseInt(t.charAt(i))+""==t.charAt(i)?n+=t.charAt(i):(n.length>0&&e.push(parseInt(n)),n="");return n.length>0&&e.push(parseInt(n)),e},t}();__reflect(ToolString.prototype,"ToolString");var ToolTime=function(){function t(){}return t.sameDay=function(e){return Math.floor(t.utcToLocalSec(e)/86400)==Math.floor(t.utcToLocalSec(t.getUtc())/86400)},t.stringLocalToUtc=function(t){var e=ToolString.splitToNumber(t),n=0,i=0,o=0,r=0,s=0,a=0;e.length>0&&(n=e[0]),e.length>1&&(i=e[1]),e.length>2&&(o=e[2]),e.length>3&&(r=e[3]),e.length>4&&(s=e[4]),e.length>5&&(a=e[5]);var h=new Date(n,i-1,o,r,s,a),c=Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds())/1e3;return c},t.utcToLocal=function(t){var e=new Date(1e3*t);return e},t.utcToLocalSec=function(t){var e=new Date(1e3*t);return e.getTime()/1e3-60*e.getTimezoneOffset()},t.toTureWeek=function(t){return 0==t?7:t},t.getUtc=function(){return t._nowUtc},t.setUtc=function(e){Math.abs(e-t._nowUtc)>5?(t._nowUtc=e,t._modify=0):t._modify=e-this._nowUtc,null==t._timer&&(t._timer=new egret.Timer(50,0),t._timer.addEventListener(egret.TimerEvent.TIMER,function(){t._nowUtc+=.05+.05*t._modify,t._modify*=.95},this),t._timer.start())},t.secToSmallString=function(t){return t=Math.floor(t),60>t?t+"秒":3600>t?(t/60).toFixed(1)+"分":(t/3600).toFixed(1)+"时"},t.secToDHM=function(t){if(0>=t)return"0天00:00";if(60>=t)return"少于1分钟";var e="";return e+=Math.floor(t/86400)+"天",e+=Math.floor(t/3600)%24+"时",e+=Math.floor(t/60)%60+"分"},t.secToHMS=function(t){if(t=Math.floor(t),0>=t)return"0:00:00";var e="";return e+=Math.floor(t/3600)%24+":",e+=Math.floor(t/60)%60+":",e+=t%60+""},t.secToString=function(t){if(0>=t)return"0:00";var e=Math.floor(t/3600),n=Math.floor(t/60)%60,i=Math.floor(t%60),o="";return 0!=e&&(o+=e+":"),o+=10>n?"0"+n+":":n+":",o+=10>i?"0"+i:i},t.secToMMSSString=function(t){if(0>=t)return"0:00";var e=Math.floor(t/60),n=Math.floor(t%60),i=e+":";return i+=0==n?"00":9>=n?"0"+n:n},t.secToHHMMSSString=function(t){var e=new Date(1e3*t),n=function(t){return 0==t?"00":10>t?"0"+t:t.toString()},i=n(e.getHours()),o=n(e.getMinutes()),r=n(e.getSeconds());return i+":"+o+":"+r},t.secToYYMMDDHHMMSSString=function(t){var e=new Date(1e3*t),n=function(t){return 0==t?"00":10>t?"0"+t:t.toString()},i=n(e.getHours()),o=n(e.getMinutes()),r=n(e.getSeconds()),s=n(e.getMonth()+1),a=n(e.getDate());return e.getFullYear()+"-"+s+"-"+a+" "+i+":"+o+":"+r},t.secToYYMMDDString=function(t){var e=new Date(1e3*t),n=function(t){return 0==t?"00":10>t?"0"+t:t.toString()},i=n(e.getMonth()+1),o=n(e.getDate());return e.getFullYear()+"-"+i+"-"+o},t.secToHoursBefore=function(e){var n=t.getUtc()-e;if(60>n)return"刚刚";if(3600>n)return Math.floor(n/60)+"分钟前";var i=Math.floor(n/3600),o=Math.floor(n/60)%60;return i+"小时"+o+"分钟前"},t.secToHMS_CH=function(t){if(0>=t)return"0秒";var e=Math.floor(t/3600),n=Math.floor(t/60)%60,i=Math.floor(t%60),o="";return o+=e+"时",o+=n+"分",o+=i+"秒"},t._nowUtc=0,t._modify=0,t}();__reflect(ToolTime.prototype,"ToolTime");var Game_EOS=function(){function t(){this._oldStaus=0,this.testBingoNum=0}return Object.defineProperty(t,"ins",{get:function(){return null==t._ins&&(t._ins=new t),t._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=ToolCom.getWebUrlParams();EOS.EOS.switchNetwork(t.network),this.controller=new EOS.ScratchController(EOS.EOS.instance),this.controller.initialize(t.referer)},t.prototype.getAccountControl=function(){return null==this.controller?null:this.controller.accountControl},t.prototype.refreshGameStaus=function(){},t.prototype.getShareUrl=function(){return null==this.controller?"https://roulette.dapp365.io/":this.controller.referralLink("https://roulette.dapp365.io/")},t.prototype.loggedIn=function(){return null==this.controller?!1:this.controller.eos.loggedIn()},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return 0==this.controller.eos.hasPlugin()?(MScene.ins.showTips(AllLang.ins.lang[ELangType.TIPS0],3e3),[2]):[4,this.controller.eos.ensureConnected()];case 1:return t.sent(),comData.ins.login(),UIHall.ins.loginOver(),[2]}})})},t.prototype.logout=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return t=this.controller.eos,t.loggedIn()?[4,t.connector.logout()]:[3,2];case 1:e=n.sent(),comData.ins.logout(),UIHall.ins.logout(),n.label=2;case 2:return[2]}})})},t.prototype.getEOSAccount=function(){return 0==this.controller.eos.loggedIn()?null:null==this.controller||null==this.controller.eos||null==this.controller.eos.account?null:this.controller.eos.account},t.prototype.getGameInfo=function(){return null==this.controller||null==this.controller.game?null:this.controller.game},t.prototype.getContract=function(){return null==this.controller||null==this.controller.contract?null:this.controller.contract},t.prototype.playBet=function(t,e,n){return __awaiter(this,void 0,void 0,function(){var i,o;return __generator(this,function(r){switch(r.label){case 0:return i=ToolCom.getWebUrlParams(),[4,this.controller.buyCards(t,e,n)];case 1:return o=r.sent(),[2,o]}})})},t.prototype.getCardsCount=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.getController().contract.cardsTable.getById(this.getEOSAccount().name)];case 1:return t=e.sent(),[2,t]}})})},t.prototype.getController=function(){return this.controller},t.prototype.openCard=function(t,e){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){switch(n.label){case 0:return UIOpenCardWait.ins.show(),User.ins.showGameScene=!1,[4,this.getController().openCard(t)];case 1:return e=n.sent(),[2,e]}})})},t._ins=null,t}();__reflect(Game_EOS.prototype,"Game_EOS");var AllLang=function(){function t(){this.arrLang=new Array}return Object.defineProperty(t,"ins",{get:function(){return null==t._ins&&(t._ins=new t,t._ins.init()),t._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.arrLang[ELang.EN]=new Array,this.arrLang[ELang.ZH]=new Array,this.arrLang[ELang.EN][ELangType.TIPS0]="Failed to fetch account, please open in a wallet or a browser with Scatter plugin installled",this.arrLang[ELang.ZH][ELangType.TIPS0]="账户获取失败 请在已安装scatter的浏览器或钱包中打开",this.arrLang[ELang.EN][ELangType.TIPS1]="111111111111111",this.arrLang[ELang.ZH][ELangType.TIPS1]="数量不能少于1张",this.arrLang[ELang.EN][ELangType.TIPS2]="99999999999999999999",this.arrLang[ELang.ZH][ELangType.TIPS2]="数量不能多于99张",this.arrLang[ELang.EN][ELangType.TIPS3]="buy",this.arrLang[ELang.ZH][ELangType.TIPS3]="购买成功",this.arrLang[ELang.EN][ELangType.TIPS4]="nobuy",this.arrLang[ELang.ZH][ELangType.TIPS4]="购买失败",this.arrLang[ELang.EN][ELangType.TIPS5]="noCard",this.arrLang[ELang.ZH][ELangType.TIPS5]="卡加载失败",this.arrLang[ELang.EN][ELangType.TIPS6]="noCard",this.arrLang[ELang.ZH][ELangType.TIPS6]="全部刮完",this.arrLang[ELang.EN][ELangType.LOGIN]="Please login",this.arrLang[ELang.ZH][ELangType.LOGIN]="请先登录",this.arrLang[ELang.EN][ELangType.GAMEINFO_BINGO]="Bingo",this.arrLang[ELang.ZH][ELangType.GAMEINFO_BINGO]="Bingo",this.arrLang[ELang.EN][ELangType.GAMEINFO_PEOPLE]="PEOPLE",this.arrLang[ELang.ZH][ELangType.GAMEINFO_PEOPLE]="人数",this.arrLang[ELang.EN][ELangType.GAMEINFO_CARD]="CARD",this.arrLang[ELang.ZH][ELangType.GAMEINFO_CARD]="卡牌",this.arrLang[ELang.EN][ELangType.WAITGAME_TIMER]="READY",this.arrLang[ELang.ZH][ELangType.WAITGAME_TIMER]="准备开始",this.arrLang[ELang.EN][ELangType.WAITGAME_TIPS]="yyyyyyyyyyyy",this.arrLang[ELang.ZH][ELangType.WAITGAME_TIPS]="游戏正在进行中... 请耐心等待下一局",this.arrLang[ELang.EN][ELangType.GAMEWAIT_NOWPEOPLE]="bjrs",this.arrLang[ELang.ZH][ELangType.GAMEWAIT_NOWPEOPLE]="本局人数",this.arrLang[ELang.EN][ELangType.GAMEWAIT_NOWCARDNUM]="bjkpsl",this.arrLang[ELang.ZH][ELangType.GAMEWAIT_NOWCARDNUM]="本局卡片数量",this.arrLang[ELang.EN][ELangType.GAMEWAIT_READY]="yxjjks",this.arrLang[ELang.ZH][ELangType.GAMEWAIT_READY]="游戏即将开始...",this.arrLang[ELang.EN][ELangType.GAMEWAIT_RANK0]="rank1",this.arrLang[ELang.ZH][ELangType.GAMEWAIT_RANK0]="第一名",this.arrLang[ELang.EN][ELangType.GAMEWAIT_RANK1]="rank2",this.arrLang[ELang.ZH][ELangType.GAMEWAIT_RANK1]="第二名",this.arrLang[ELang.EN][ELangType.GAMEWAIT_RANK2]="rank3",this.arrLang[ELang.ZH][ELangType.GAMEWAIT_RANK2]="第三名",this.arrLang[ELang.EN][ELangType.GAMEBACK_TIPS]="black over",this.arrLang[ELang.ZH][ELangType.GAMEBACK_TIPS]="退出后即为放弃本局游戏是否继续退出",this.arrLang[ELang.EN][ELangType.GAMEOVER_RANK0]="rank1",this.arrLang[ELang.ZH][ELangType.GAMEOVER_RANK0]="第一名",this.arrLang[ELang.EN][ELangType.GAMEOVER_WIN]="win",this.arrLang[ELang.ZH][ELangType.GAMEOVER_WIN]="赢得了",this.arrLang[ELang.EN][ELangType.GAMEOVER_RANK1]="rank2",this.arrLang[ELang.ZH][ELangType.GAMEOVER_RANK1]="第二名  ",this.arrLang[ELang.EN][ELangType.GAMEOVER_RANK2]="rank3",this.arrLang[ELang.ZH][ELangType.GAMEOVER_RANK2]="第三名  ",this.arrLang[ELang.EN][ELangType.TIPSFIRSTLOGIN_TIPS0]="1.qqqqqq",this.arrLang[ELang.ZH][ELangType.TIPSFIRSTLOGIN_TIPS0]="1.请根据播报数字点击卡片上的相同数字",this.arrLang[ELang.EN][ELangType.TIPSFIRSTLOGIN_TIPS1]="2.ddddddd",this.arrLang[ELang.ZH][ELangType.TIPSFIRSTLOGIN_TIPS1]="2.当连成以下图形后需立即点击",this.arrLang[ELang.EN][ELangType.TIPSFIRSTLOGIN_ISEE]="I SEE",this.arrLang[ELang.ZH][ELangType.TIPSFIRSTLOGIN_ISEE]="我知道了",this.arrLang[ELang.EN][ELangType.HELP_TIPS0]="TTTTTTT",this.arrLang[ELang.ZH][ELangType.HELP_TIPS0]="分享链接邀好友。若新用户从您的链接进入网站 并完成首次下注，则推荐成功。",this.arrLang[ELang.EN][ELangType.HELP_TIPS1]="TTTTT",this.arrLang[ELang.ZH][ELangType.HELP_TIPS1]="被推荐人每次投注，推荐人都能得到投注金额的  5‰ 的作为佣金。",this.arrLang[ELang.EN][ELangType.CARD_BINGOOVER0]="I SEE",this.arrLang[ELang.ZH][ELangType.CARD_BINGOOVER0]="等待其他",this.arrLang[ELang.EN][ELangType.CARD_BINGOOVER1]="I SEE",this.arrLang[ELang.ZH][ELangType.CARD_BINGOOVER1]="个bingo产生",this.arrLang[ELang.EN][ELangType.MORE_BYEBYE]="Sign Out",this.arrLang[ELang.ZH][ELangType.MORE_BYEBYE]="退出",this.arrLang[ELang.EN][ELangType.MORE_TJYJ]="Referral bonuses",this.arrLang[ELang.ZH][ELangType.MORE_TJYJ]="推荐有奖",this.arrLang[ELang.EN][ELangType.MORE_CUTLANG]="Language",this.arrLang[ELang.ZH][ELangType.MORE_CUTLANG]="语言切换",this.arrLang[ELang.EN][ELangType.MORE_LANG]="中文",this.arrLang[ELang.ZH][ELangType.MORE_LANG]="English",this.arrLang[ELang.EN][ELangType.TJYJ_FONT0]="My referral links",this.arrLang[ELang.ZH][ELangType.TJYJ_FONT0]="我的推荐链接",this.arrLang[ELang.EN][ELangType.TJYJ_FONT1]="how to get the reward for inviting?",this.arrLang[ELang.ZH][ELangType.TJYJ_FONT1]="如何获得推荐奖励？",this.arrLang[ELang.EN][ELangType.TJYJ_FONT2]="Share a link to invite friends.if the new user from your link to enter the site and complete the first bet, the recommendation is successful.",this.arrLang[ELang.ZH][ELangType.TJYJ_FONT2]="分享链接邀好友。若新用户从您的链接进入网站并完成首次下注，则推荐成功。",this.arrLang[ELang.EN][ELangType.TJYJ_FONT3]="Each time the recommend makes a bet, the recommended will get 5% of the bet amount as commission.",this.arrLang[ELang.ZH][ELangType.TJYJ_FONT3]="被推荐人每次投注，推荐人都能得到投注金额的 5‰ 的作为佣金。",this.arrLang[ELang.EN][ELangType.TJYJ_COPY]="COPY",this.arrLang[ELang.ZH][ELangType.TJYJ_COPY]="复制",this.arrLang[ELang.EN][ELangType.TJYJ_COPY_TIPS]="Copied to Clipboard",this.arrLang[ELang.ZH][ELangType.TJYJ_COPY_TIPS]="复制成功",this.arrLang[ELang.EN][ELangType.WAITBINGO_TOGAME]="Copied to Clipboard",this.arrLang[ELang.ZH][ELangType.WAITBINGO_TOGAME]="返回游戏",this.arrLang[ELang.EN][ELangType.EQUITY_EQUITY]="ttttt",this.arrLang[ELang.ZH][ELangType.EQUITY_EQUITY]="链上可验证公平性",this.arrLang[ELang.EN][ELangType.EQUITY_TIPS0]="ttttt",this.arrLang[ELang.ZH][ELangType.EQUITY_TIPS0]="每一局向玩家开放投注前，服务端将生成一个随机数种子，用此种子生成随后要开出的结果。然后将此种子签名后交给智能合约（可以在链上查询）和玩家（可以在本页看到），以便随后验证对比。",this.arrLang[ELang.EN][ELangType.EQUITY_TIPS1]="ttttt",this.arrLang[ELang.ZH][ELangType.EQUITY_TIPS1]="当一局结束时，服务端将会把原始种子展示出来，从而证明了系统在整个过程中并未修改种子，杜绝了系统作弊的可能。",this.arrLang[ELang.EN][ELangType.EQUITY_ID]="ttttt",this.arrLang[ELang.ZH][ELangType.EQUITY_ID]="游戏ID:",this.arrLang[ELang.EN][ELangType.EQUITY_SEED]="ttttt",this.arrLang[ELang.ZH][ELangType.EQUITY_SEED]="本局种子签名"
},Object.defineProperty(t.prototype,"lang",{get:function(){return this.arrLang[User.ins.lang]},enumerable:!0,configurable:!0}),t.prototype.refreshAllLang=function(){UIHall.ins.refresh_lang()},t._ins=null,t}();__reflect(AllLang.prototype,"AllLang");var ELangType;!function(t){t[t.TIPS0=0]="TIPS0",t[t.TIPS1=1]="TIPS1",t[t.TIPS2=2]="TIPS2",t[t.TIPS3=3]="TIPS3",t[t.TIPS4=4]="TIPS4",t[t.TIPS5=5]="TIPS5",t[t.TIPS6=6]="TIPS6",t[t.LOGIN=7]="LOGIN",t[t.CARD_BINGOOVER0=8]="CARD_BINGOOVER0",t[t.CARD_BINGOOVER1=9]="CARD_BINGOOVER1",t[t.GAMEINFO_BINGO=10]="GAMEINFO_BINGO",t[t.GAMEINFO_PEOPLE=11]="GAMEINFO_PEOPLE",t[t.GAMEINFO_CARD=12]="GAMEINFO_CARD",t[t.WAITGAME_TIMER=13]="WAITGAME_TIMER",t[t.WAITGAME_TIPS=14]="WAITGAME_TIPS",t[t.WAITBINGO_TOGAME=15]="WAITBINGO_TOGAME",t[t.GAMEWAIT_NOWPEOPLE=16]="GAMEWAIT_NOWPEOPLE",t[t.GAMEWAIT_NOWCARDNUM=17]="GAMEWAIT_NOWCARDNUM",t[t.GAMEWAIT_READY=18]="GAMEWAIT_READY",t[t.GAMEWAIT_RANK0=19]="GAMEWAIT_RANK0",t[t.GAMEWAIT_RANK1=20]="GAMEWAIT_RANK1",t[t.GAMEWAIT_RANK2=21]="GAMEWAIT_RANK2",t[t.GAMEBACK_TIPS=22]="GAMEBACK_TIPS",t[t.GAMEOVER_RANK0=23]="GAMEOVER_RANK0",t[t.GAMEOVER_RANK1=24]="GAMEOVER_RANK1",t[t.GAMEOVER_RANK2=25]="GAMEOVER_RANK2",t[t.GAMEOVER_WIN=26]="GAMEOVER_WIN",t[t.TIPSFIRSTLOGIN_TIPS0=27]="TIPSFIRSTLOGIN_TIPS0",t[t.TIPSFIRSTLOGIN_TIPS1=28]="TIPSFIRSTLOGIN_TIPS1",t[t.TIPSFIRSTLOGIN_ISEE=29]="TIPSFIRSTLOGIN_ISEE",t[t.HELP_TIPS0=30]="HELP_TIPS0",t[t.HELP_TIPS1=31]="HELP_TIPS1",t[t.MORE_BYEBYE=32]="MORE_BYEBYE",t[t.MORE_TJYJ=33]="MORE_TJYJ",t[t.MORE_CUTLANG=34]="MORE_CUTLANG",t[t.MORE_LANG=35]="MORE_LANG",t[t.TJYJ_FONT0=36]="TJYJ_FONT0",t[t.TJYJ_FONT1=37]="TJYJ_FONT1",t[t.TJYJ_FONT2=38]="TJYJ_FONT2",t[t.TJYJ_FONT3=39]="TJYJ_FONT3",t[t.TJYJ_COPY=40]="TJYJ_COPY",t[t.TJYJ_COPY_TIPS=41]="TJYJ_COPY_TIPS",t[t.EQUITY_EQUITY=42]="EQUITY_EQUITY",t[t.EQUITY_TIPS0=43]="EQUITY_TIPS0",t[t.EQUITY_TIPS1=44]="EQUITY_TIPS1",t[t.EQUITY_ID=45]="EQUITY_ID",t[t.EQUITY_SEED=46]="EQUITY_SEED"}(ELangType||(ELangType={}));var comData=function(){function t(){this.width=1125,this.height=1810,this.arrCard=[[{money:.1,type:EOS.ScratchCardType.Pig,card:null,winMoney:0}]],this.BEGIN_BET_SOUND="beginBet_mp3",this.BET_SOUND="bet_mp3",this.BIG_WIN_SOUND="bigWin_mp3",this.BTN_SOUND="btn_wav",this.ROULETTE_SOUND="roulette_mp3",this.SEC5_SOUND="sec5_mp3",this.STOP_BET_SOUND="stopBet_mp3",this.ERR_SOUND="err_mp3",this.ROULETTE_OVER_SOUND="rouletteOver_mp3"}return Object.defineProperty(t,"ins",{get:function(){return null==t._ins&&(t._ins=new t),t._ins},enumerable:!0,configurable:!0}),t.prototype.getCardBgFromType=function(t){var e="";switch(t){case EOS.ScratchCardType.Pig:e="bg_card0_all_png";break;case EOS.ScratchCardType.Pig:e="bg_card0_all_png"}return e},t.prototype.getFont=function(t){var e="";switch(t){case EOS.ScratchCardType.Pig:e="“鸿运当头”";break;case EOS.ScratchCardType.Pig:e="“点球大战”"}return e},t.prototype.login=function(){User.ins.loginType=!0},t.prototype.logout=function(){User.ins.loginType=!1},t._ins=null,t}();__reflect(comData.prototype,"comData");var User=function(){function t(){this.selectRoom=ERoom.room0,this.loginType=!1,this.CPU=0,this.NET=0,this.money=0,this.lang=ELang.ZH,this._card=new CCard,this.NoWinCard=0,this.arrOpenHistoy=Array(),this.showGameScene=!1}return Object.defineProperty(t,"ins",{get:function(){return null==t._ins&&(t._ins=new t),t._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=egret.localStorage.getItem("lang");"zh"==t?this.lang=ELang.ZH:"en"==t&&(this.lang=ELang.EN),this.getOpenHistoy(),ToolSound.ins.initOpenInfo(),this.NoWinCard=parseInt(egret.localStorage.getItem("cardOpen"))},t.prototype.saveOpenHistoy=function(){for(var t="",e=0;20>e&&null!=this.arrOpenHistoy[e];e++)t=t+this.arrOpenHistoy[e]+";";egret.localStorage.setItem("histoy",t)},t.prototype.getOpenHistoy=function(){var t=egret.localStorage.getItem("histoy");if(null!=t&&""!=t){var e=t.split(";");for(var n in e)e[n].length>2&&this.arrOpenHistoy.push(e[n])}},t.prototype.addCardToHistoy=function(t,e){t.card=e;var n=JSON.stringify(t);this.arrOpenHistoy.unshift(n),this.saveOpenHistoy()},t.prototype.setNowLang=function(e){void 0===e&&(e=ELang.ZH),t.ins.lang=e,e==ELang.EN?egret.localStorage.setItem("lang","en"):e==ELang.ZH&&egret.localStorage.setItem("lang","zh")},t.prototype.setOpenCard=function(t){this.NoWinCard=t,egret.localStorage.setItem("cardOpen",t+"")},t.prototype.getTypeToPrice=function(t){},t.prototype.refreshUserData=function(){Game_EOS.ins.loggedIn()!=this.loginType&&(this.loginType=Game_EOS.ins.loggedIn(),UIHall.ins.loginOver()),null!=Game_EOS.ins.getController()&&0==this.showGameScene&&0==UIAllOpen.ins.showGameScene&&this.NoWinCard!=Game_EOS.ins.getController().game.id&&Game_EOS.ins.getController().game.status==EOS.ScratchStatus.Revealed&&(this.showGameScene=!0,UIOpenCardWait.ins.closeScene(),this._card.money=Game_EOS.ins.getController().game.price.quantity,this._card.type=Game_EOS.ins.getController().game.cardType,UIGame.ins.show(this._card));var t=Game_EOS.ins.getAccountControl();if(null!=t.accountInfo.cpuLimit&&null!=t.accountInfo.netLimit){var e=100*parseFloat((t.accountInfo.cpuLimit.used/t.accountInfo.cpuLimit.max).toFixed(2)),n=100*parseFloat((t.accountInfo.netLimit.used/t.accountInfo.netLimit.max).toFixed(2));(this.CPU!=e||this.NET!=n)&&(this.CPU=e,this.NET=n),null!=t.accountInfo.balance&&(t.accountInfo.balance.quantity!=this.money&&(this.money=t.accountInfo.balance.quantity),UIHall.ins.refresh_UserInfo(),UIMyCard.ins.refresh_UserInfo(),UIHall.ins.showDZB())}},t._ins=null,t}();__reflect(User.prototype,"User");var ELang;!function(t){t[t.EN=0]="EN",t[t.ZH=1]="ZH"}(ELang||(ELang={}));var ERoom;!function(t){t[t.room0=0]="room0",t[t.room1=1]="room1",t[t.room2=2]="room2"}(ERoom||(ERoom={}));var UIFontTips=function(t){function e(e,n,i){void 0===e&&(e=""),void 0===n&&(n=200),void 0===i&&(i=!0);var o=t.call(this)||this;return o._text="",o._deTime=0,o._actFlag=!0,o._text=e,o._deTime=n,o._actFlag=i,o.skinName="resource/skin/fontTipsSkin.exml",o.once(egret.Event.ADDED_TO_STAGE,o.OnCreate,o),o}return __extends(e,t),e.prototype.OnCreate=function(){this.refresh(this._text,this._actFlag)},e.prototype.refresh=function(t,e){return void 0===t&&(t=this._text),void 0===e&&(e=!0),null==this._font?this.close():(this._font.text=t,this._rect_bg.width=this._font.width+50,void(e&&this.playAct()))},e.prototype.playAct=function(){var t=this;t._act.alpha=0,t._act.y=467,egret.Tween.removeTweens(t._act),egret.Tween.get(t._act).to({alpha:1},500).wait(this._deTime).wait(300).to({y:267,alpha:.4},500).call(function(){egret.Tween.removeTweens(t._act),t.close()})},e.prototype.clean=function(){var t=this;t._act&&egret.Tween.removeTweens(t._act)},e.prototype.close=function(){this.clean(),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIFontTips.prototype,"UIFontTips");var UIAllOpen=function(t){function e(){var e=t.call(this)||this;return e.showGameScene=!1,e._count=null,e._nowOpenNum=0,e._overOpenNum=0,e.skinName="resource/skin/allOpen/allOpenSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_stop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this)},e.prototype.show=function(){MScene.ins.addSceneToTop(e.ins),this.before()},e.prototype.before=function(){this.init()},e.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this._font_now.visible=!1,this._overOpenNum=0,this._nowOpenNum=0,this._scr_group.removeChildren(),this.createMovieClip(),t=this,[4,Game_EOS.ins.getCardsCount()];case 1:return t._count=e.sent(),this._overOpenNum=this._count.card2Count+this._count.card1Count,this.refresh(),[2]}})})},e.prototype.refresh=function(){this.showGameScene=!0,this.openCard()},e.prototype.openCard=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n,i,o;return __generator(this,function(r){switch(r.label){case 0:return t=this,1!=Game_EOS.ins.getController().canClaim()?[3,4]:[4,Game_EOS.ins.getController().claim()];case 1:return e=r.sent(),0!=e.isError?[3,3]:this._nowOpenNum>this._overOpenNum?(this.showGameScene=!1,MScene.ins.showTips(AllLang.ins.lang[ELangType.TIPS6]),UIMyCard.ins.cleanScrGroup(),[2]):(n=this.getCardInfo(),i=comData.ins.getFont(n.type),this._nowOpenNum++,this._font_now.visible=!0,this._font_now.text="正在刮第"+this._nowOpenNum+" 张"+i,[4,Game_EOS.ins.openCard(n.type,n.money)]);case 2:return o=r.sent(),0==o.isError?(UIOpenCardWait.ins.closeScene(),egret.Tween.get(t._wind).wait(1e3).call(function(){egret.Tween.removeTweens(t._wind),t.openOver(i,n.winMoney)})):this.showGameScene=!1,[3,4];case 3:this.showGameScene=!1,r.label=4;case 4:return[2]}})})},e.prototype.getCardInfo=function(){var t=new CCard;return this._nowOpenNum<=this._count.card1Count?(t.type=EOS.ScratchCardType.Pig,t.money=.1):this._nowOpenNum<=this._count.card1Count+this._count.card2Count&&(t.type=EOS.ScratchCardType.Pig,t.money=1),t.winMoney=Game_EOS.ins.getController().game.reward.quantity,t},e.prototype.openOver=function(t,e){var n=new eui.Label;n.size=48,0>=e?n.text="第"+this._nowOpenNum+"张"+t+"未中奖":n.text="第"+this._nowOpenNum+"张"+t+"中奖"+e+"EOS",this._scr_group.addChildAt(n,0),this._nowOpenNum<=this._overOpenNum&&this.openCard()},e.prototype.createMovieClip=function(){if(null==this._mc){var t=RES.getRes("guaAct_json"),e=RES.getRes("guaAct_png"),n=new egret.MovieClipDataFactory(t,e);this._mc=new egret.MovieClip(n.generateMovieClipData("gua")),this._mc.x=0,this._mc.y=0}this._gp_act.addChild(this._mc),this._mc.gotoAndPlay("gua",-1)},e.prototype.onBtnClose=function(){MScene.ins.closeTopScene()},e.prototype.clean=function(){this.showGameScene=!1,egret.Tween.removeTweens(this._wind),this._mc&&this._mc.stop()},e.prototype.close=function(){this.clean(),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIAllOpen.prototype,"UIAllOpen");var UIBuyCard=function(t){function e(){var e=t.call(this)||this;return e._data=null,e._buyNum=1,e._btnOpen=!1,e.skinName="resource/skin/buyCard/buyCardSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_minus.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnMinus,this),this._btn_add.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnAdd,this),this._btn_buy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBuy,this),this._btn_back.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBack,this),this.cardShow.addEventListener("complete",this.onTweenGroupComplete,this)},e.prototype.show=function(t){this._data=t,User.ins._card=t,MScene.ins.addMiddleScene(e.ins),this.before()},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){this._img_card.visible=!1,this._rect_up.visible=!0,this._rect_down.visible=!0,this._img_up.source=RES.getRes("bg_bg7_png"),this._img_down.source=RES.getRes("bg_bg8_png")},e.prototype.refresh=function(){this._btnOpen=!1,this._buyNum=1,this.setBuyNum(this._buyNum),this.cardShow.play()},e.prototype.setBuyNum=function(t){this._bitLabel_num.text=t+"z",this._btn_buy.label="购买("+(t*this._data.money).toFixed(1)+"EOS)"},e.prototype.onTweenGroupComplete=function(){this.cardShow.stop(),this._rect_up.visible=!1,this._rect_down.visible=!1,this._img_up.source=RES.getRes("bg_bg9_png"),this._img_down.source=RES.getRes("bg_bg3_png"),this.playCardShowAct()},e.prototype.playCardShowAct=function(){var t=this;this._img_card.visible=!0,this._img_card.scaleX=0,this._img_card.scaleY=0,t._img_card.source=RES.getRes(comData.ins.getCardBgFromType(this._data.type)),egret.Tween.get(t._img_card).to({scaleX:.5,scaleY:.5},300).call(function(){t._btnOpen=!0,egret.Tween.removeTweens(t._img_card)})},e.prototype.onBtnMinus=function(){return 1==this._buyNum?void MScene.ins.showTips(AllLang.ins.lang[ELangType.TIPS1]):(this._buyNum--,void this.setBuyNum(this._buyNum))},e.prototype.onBtnAdd=function(){return 99==this._buyNum?void MScene.ins.showTips(AllLang.ins.lang[ELangType.TIPS2]):(this._buyNum++,void this.setBuyNum(this._buyNum))},e.prototype.onBtnBuy=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return MScene.ins.showNetWait(!0),[4,Game_EOS.ins.playBet(this._data.type,this._data.money,this._buyNum)];case 1:return t=e.sent(),1==t.isError?MScene.ins.showTips(AllLang.ins.lang[ELangType.TIPS4]):(UIOpenCardWait.ins.show(),MScene.ins.showTips(AllLang.ins.lang[ELangType.TIPS3]),User.ins._card=this._data,User.ins.showGameScene=!1),MScene.ins.showNetWait(!1),[2]}})})},e.prototype.onBtnBack=function(){MScene.ins.closeMiddleScene()},e.prototype.close=function(){egret.Tween.removeTweens(this._img_card),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIBuyCard.prototype,"UIBuyCard");var UIDazibao=function(t){function e(){var e=t.call(this)||this;return e._data=null,e.skinName="resource/skin/dazibao/dazibaoSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._btn_toBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBuy,this)},e.prototype.show=function(t){0!=RES.isGroupLoaded("dzbcard")&&(this._data=t,MScene.ins.addSceneToTop(e.ins),this.before())},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){this.setNowTimer()},e.prototype.refresh=function(){this._font_winMoney.text=this._data.reward.quantity+"EOS",this._font_winName.text="恭喜"+name,this._font_cardName.text=comData.ins.getFont(this._data.cardType),this._fontWin.text="中奖"+this._data.reward.quantity+"EOS",this._img_card.source=RES.getRes(comData.ins.getCardBgFromType(this._data.cardType))},e.prototype.setNowTimer=function(){var t=new Date,e=t.getDay(),n=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];this._font_Data.text=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),this._font_week.text=n[e]},e.prototype.onBtnBuy=function(){var t=new CCard;t.money=this._data.price.quantity,t.type=this._data.cardType,UIBuyCard.ins.show(t)},e.prototype.onBtnClose=function(){MScene.ins.closeTopScene()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIDazibao.prototype,"UIDazibao");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?i(o):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/loadSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.OnCreate,e),e}return __extends(e,t),e.prototype.OnCreate=function(){this.scaleX=.56888,this.scaleY=.73701,this.toPalyAct()},e.prototype.toPalyAct=function(){},e.prototype.onProgress=function(t,e){var n=Math.floor(t/e*100);this._font.text=n+"%"},e.prototype.clean=function(){},e.prototype.close=function(){this.clean()},e}(eui.Component);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var UIGameCard0=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/game/gameCard0Skin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),e.prototype.onCreate=function(){},e.prototype.refresh=function(){this._gp_noWin.visible=!1,this._gp_mask.removeChildren(),this._UIGameCard0Bg.refresh(),this._gameMax=new UIGameMaxk,this._gp_mask.addChild(this._gameMax)},e.prototype.showWinNum=function(){var t=this._UIGameCard0Bg.showWinNum();this._gp_noWin.visible=t},e.prototype.autoOpenCardAct=function(){var t=this,e=0;this.openCardAct(25,163*e+25,978,163*e+25),egret.Tween.get(t._gp_mask,{loop:!0}).wait(100).call(function(){e++,t.openCardAct(25,50*e+25,978,50*e+25),e>=17&&(egret.Tween.removeTweens(t._gp_mask),UIGame.ins.openDuiJiang())}).wait(100).call(function(){e++,t.openCardAct(978,50*e+25,25,50*e+25)})},e.prototype.getWinMoney=function(){return this._UIGameCard0Bg.getWinMoney()},e.prototype.openCardAct=function(t,e,n,i){this._gameMax&&this._gameMax.openToXY(t,e,n,i)},e}(CardClass);__reflect(UIGameCard0.prototype,"UIGameCard0");var UIGameCard0Bg=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/game/gameCard0BgSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),e.prototype.onCreate=function(){this.init()},e.prototype.init=function(){this._gp_rect.visible=!1},e.prototype.refresh=function(t){void 0===t&&(t=null),null==t&&(t=Game_EOS.ins.getController().game.getResults()),this._UIGameCard0Item0.refresh(t[0]),this._UIGameCard0Item1.refresh(t[1]),this._UIGameCard0Item2.refresh(t[2]),this._UIGameCard0Item3.refresh(t[3]),this._UIGameCard0Item4.refresh(t[4])},e.prototype.showWinNum=function(){return this._gp_rect.visible=!0,this._rect0.visible=!this._UIGameCard0Item0.showWinNum(),this._rect1.visible=!this._UIGameCard0Item1.showWinNum(),this._rect2.visible=!this._UIGameCard0Item2.showWinNum(),this._rect3.visible=!this._UIGameCard0Item3.showWinNum(),this._rect4.visible=!this._UIGameCard0Item4.showWinNum(),1==this._rect0.visible&&1==this._rect1.visible&&1==this._rect2.visible&&1==this._rect3.visible&&1==this._rect4.visible?(this._rect0.visible=this._rect1.visible=this._rect2.visible=this._rect3.visible=this._rect4.visible=!1,!0):!1},e.prototype.getWinMoney=function(){var t=0;return t+=this._UIGameCard0Item0.getWinMoney(),t+=this._UIGameCard0Item1.getWinMoney(),t+=this._UIGameCard0Item2.getWinMoney(),t+=this._UIGameCard0Item3.getWinMoney(),t+=this._UIGameCard0Item4.getWinMoney()},e}(eui.Component);__reflect(UIGameCard0Bg.prototype,"UIGameCard0Bg");var UIGameCard0Item=function(t){function e(){var e=t.call(this)||this;return e._data=null,e.skinName="resource/skin/game/gameCard0ItemSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),e.prototype.onCreate=function(){this._gp_rect.visible=!1},e.prototype.refresh=function(t){this._data=t,this._font_door.text=t.value+"",this._font_open0_0.text=t.values[0]+"",this._font_open0_1.text=t.values[1]+"",this._font_open0_2.text=t.values[2]+"",this._font_open0_3.text=t.values[3]+"",this._img_win.source=RES.getRes(this.getWinPath(t.reward))},e.prototype.getWinPath=function(t){var e="";switch(t){case 1:e="img_card0_eos01";break;case 2:e="img_card0_eos02";break;case 5:e="img_card0_eos05";break;case 10:e="img_card0_eos1";break;case 20:e="img_card0_eos2";break;case 50:e="img_card0_eos5";break;case 100:e="img_card0_eos10";break;case 1e3:e="img_card0_eos100";break;case 1e4:e="img_card0_eos1000"}return e},e.prototype.showWinNum=function(){var t=!1;return this._gp_rect.visible=!0,this._rect0.visible=!1,this._rect1.visible=!1,this._rect2.visible=!1,this._rect3.visible=!1,this._rect4.visible=!1,this._font_open0_0.text==this._font_door.text?(t=!0,this._rect0.visible=t):this._font_open0_1.text==this._font_door.text?(t=!0,this._rect1.visible=t):this._font_open0_2.text==this._font_door.text?(t=!0,this._rect2.visible=t):this._font_open0_3.text==this._font_door.text&&(t=!0,this._rect3.visible=t),this._rect4.visible=t,t},e.prototype.getWinMoney=function(){return this._data.result},e}(eui.Component);__reflect(UIGameCard0Item.prototype,"UIGameCard0Item");var UIGameMaxk=function(t){function e(){var e=t.call(this)||this;return e._arrPoint=[{x:105,y:80},{x:245,y:80},{x:400,y:80},{x:565,y:80},{x:725,y:80},{x:893,y:80},{x:105,y:245},{x:245,y:245},{x:400,y:245},{x:565,y:245},{x:725,y:245},{x:893,y:245},{x:105,y:410},{x:245,y:410},{x:400,y:410},{x:565,y:410},{x:725,y:410},{x:893,y:410},{x:105,y:570},{x:245,y:570},{x:400,y:570},{x:565,y:570},{x:725,y:570},{x:893,y:570},{x:105,y:735},{x:245,y:735},{x:400,y:735},{x:565,y:735},{x:725,y:735},{x:893,y:735}],e.arrMoveOver=new Array(30),e.size=50,e.touchEnabled=!0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddedToStage,e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTapBegin,e),e.addEventListener(egret.TouchEvent.TOUCH_END,e.onTapEnd,e),e}return __extends(e,t),e.prototype.init=function(){this.arrMoveOver=new Array(30)},e.prototype.openToXY=function(t,e,n,i){this.eraserSp.graphics.lineStyle(this.size,0),this.eraserSp.graphics.moveTo(t,e),this.eraserSp.graphics.lineTo(n,i),this.createReverseMask2()},e.prototype.controlStart=function(){this.eraserSp.graphics.lineStyle(this.size,0),this.eraserSp.graphics.moveTo(this.startPoint.x,this.startPoint.y),this.eraserSp.graphics.lineTo(this.startPoint.x,this.startPoint.y),this.createReverseMask2()},e.prototype.controlMove=function(){var t=0;for(var e in this._arrPoint)if(1!=this.arrMoveOver[e]){var n=this.size,i=this._arrPoint[e],o=Math.abs(this.movePoint.x-i.x),r=Math.abs(this.movePoint.y-i.y);if(n>=o&&n>=r){t+=1,this.arrMoveOver[e]=1;break}}else t+=1;return this.eraserSp.graphics.lineTo(this.movePoint.x,this.movePoint.y),this.createReverseMask2(),console.log(t),t==this.arrMoveOver.length?UIGame.ins.openDuiJiang():void 0},e.prototype.onAddedToStage=function(t){this.domImg=new egret.Bitmap(RES.getRes("bg_card0_gua_png")),this.addChild(this.domImg),this.eraserSp=new egret.Sprite,this.addChild(this.eraserSp),this.eraserSp.visible=!1,this.renderTexture=new egret.RenderTexture,this._bitmapMask=new egret.Bitmap,this._bitmapMask.blendMode=egret.BlendMode.ERASE,this._reverseMask=new egret.Sprite,this._reverseMask.graphics.beginFill(0,1),this._reverseMask.graphics.drawRect(0,0,this.width,this.height),this._reverseMask.graphics.endFill(),this._reverseMask.addChild(this._bitmapMask),this.renderTex=new egret.RenderTexture,this.reverseMask=new egret.Bitmap,this.addChild(this.reverseMask)},e.prototype.createReverseMask2=function(){this.renderTexture.drawToTexture(this.eraserSp,new egret.Rectangle(0,0,this.width,this.height)),this._bitmapMask.texture=this.renderTexture,this.renderTex.drawToTexture(this._reverseMask),this.reverseMask.texture=this.renderTex,this.mask||(this.mask=this.reverseMask)},e.prototype.onTapBegin=function(t){this.startPoint=this.eraserSp.globalToLocal(t.stageX,t.stageY),this.startPoint.x>this.width-this.size/2&&(this.startPoint.x=this.width-this.size/2),this.startPoint.x<this.size/2&&(this.startPoint.x=this.size/2),this.startPoint.y>this.height-this.size/2&&(this.startPoint.y=this.height-this.size/2),this.startPoint.y<this.size/2&&(this.startPoint.y=this.size/2),this.controlStart(),this.hasEventListener(egret.TouchEvent.TOUCH_MOVE)||this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},e.prototype.mouseMove=function(t){this.movePoint=this.eraserSp.globalToLocal(t.stageX,t.stageY),this.movePoint.x>this.width-this.size/2&&(this.movePoint.x=this.width-this.size/2),this.movePoint.x<this.size/2&&(this.movePoint.x=this.size/2),this.movePoint.y>this.height-this.size/2&&(this.movePoint.y=this.height-this.size/2),this.movePoint.y<this.size/2&&(this.movePoint.y=this.size/2),this.controlMove()},e.prototype.onTapEnd=function(t){var e=t.target.name;e.split("_");this.hasEventListener(egret.TouchEvent.TOUCH_MOVE)&&this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},e}(egret.DisplayObjectContainer);__reflect(UIGameMaxk.prototype,"UIGameMaxk");var UIHall=function(t){function e(){var e=t.call(this)||this;return e.arrCollectionDate=new Array,e._ShowCardId=0,e.skinName="resource/skin/hall/hallSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_home.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnHome,this),this._btn_more.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnMore,this),this._btn_help.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnHelp,this),this._btn_lang_zh.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnLangEN,this),this._btn_lang_en.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnLangZH,this),this.myCollection=new eui.ArrayCollection(this.arrCollectionDate),this._scr_dataGroup.dataProvider=this.myCollection,this._scr_dataGroup.itemRenderer=UIHallCardItem,this.before()},e.prototype.show=function(t){void 0===t&&(t=!1),MScene.ins.addBottomScene(e.ins),t&&UIOpenDoor.ins.show(),this.showDZB()},e.prototype.showDZB=function(){if(null!=this.parent){var t=null;for(var e in Game_EOS.ins.getController().history){var n=Game_EOS.ins.getController().history[e];this._ShowCardId<n.cardId||(null==t||t.reward.quantity>n.reward.quantity)&&(t=n)}null!=t&&(t.reward.quantity>0&&(this._ShowCardId=t.cardId,this._font_bigwin.visible=!0,this._font_bigwin.text=t.player+"刮中"+comData.ins.getFont(t.cardType)+t.reward.quantity+"EOS"),t.reward.quantity>10&&UIDazibao.ins.show(t))}},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){this._font_bigwin.visible=!1,this._UIHallLogin.refresh()},e.prototype.refresh=function(){this.refresh_lang(),this.refresh_UserInfo(),this.refresh_CardInfo()},e.prototype.refresh_lang=function(){User.ins.lang==ELang.EN?(this._btn_lang_en.visible=!1,this._btn_lang_zh.visible=!0,1!=User.ins.loginType):User.ins.lang==ELang.ZH&&(this._btn_lang_en.visible=!0,this._btn_lang_zh.visible=!1,1!=User.ins.loginType)},e.prototype.refresh_UserInfo=function(){this._UIHallLogin.setCpuNet(User.ins.CPU,User.ins.NET),this._UIHallLogin.setMoney(User.ins.money)},e.prototype.refresh_CardInfo=function(){var t=new Array;for(var e in comData.ins.arrCard)t.push(comData.ins.arrCard[e]);this.arrCollectionDate=t,this.myCollection.replaceAll(this.arrCollectionDate),this.myCollection.refresh()},e.prototype.loginOver=function(){this._UIHallLogin.loginOver()},e.prototype.logout=function(){this._UIHallLogin.loginOver()},e.prototype.onBtnLangEN=function(){User.ins.setNowLang(ELang.ZH),AllLang.ins.refreshAllLang()},e.prototype.onBtnLangZH=function(){User.ins.setNowLang(ELang.EN),AllLang.ins.refreshAllLang()},e.prototype.onBtnHome=function(){window.location.href="https://dapp365.io"},e.prototype.onBtnMore=function(){UIMore.ins.show()},e.prototype.onBtnHelp=function(){UIHelp.ins.show()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIHall.prototype,"UIHall");var UIHallCardItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/hall/hallCardItemSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),e.prototype.onCreate=function(){this._btn_money0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtn0,this),this._btn_money1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtn1,this),this._btn_money2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtn2,this)},e.prototype.dataChanged=function(){var t=this.data;null!=t[0]?(this._img_card0.visible=!0,this._img_card0.source=RES.getRes(this.getCardFromType(t[0].type)),this._btn_money0.label=t[0].money+"EOS"):(this._img_card0.visible=!1,this._btn_money0.visible=!1),null!=t[1]?(this._img_card1.visible=!0,this._img_card1.source=RES.getRes(this.getCardFromType(t[1].type)),this._btn_money1.label=t[1].money+"EOS"):(this._img_card1.visible=!1,this._btn_money1.visible=!1),null!=t[2]?(this._img_card2.visible=!0,this._img_card2.source=RES.getRes(this.getCardFromType(t[2].type)),this._btn_money2.label=t[2].money+"EOS"):(this._img_card2.visible=!1,this._btn_money2.visible=!1)},e.prototype.getCardFromType=function(t){var e="";switch(t){case EOS.ScratchCardType.Pig:e="img_plist0_img1";break;case EOS.ScratchCardType.Pig:e="img_plist0_img1"}return e},e.prototype.onBtn0=function(){this.onBtn(0)},e.prototype.onBtn1=function(){this.onBtn(1)},e.prototype.onBtn2=function(){this.onBtn(2)},e.prototype.onBtn=function(t){if(0==User.ins.loginType)return void MScene.ins.showTips(AllLang.ins.lang[ELangType.LOGIN],1e3);var e=this.data;UIBuyCard.ins.show(e[t])},e}(eui.ItemRenderer);__reflect(UIHallCardItem.prototype,"UIHallCardItem");var UIHallLogin=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/hall/hallLoginSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),e.prototype.onCreate=function(){this._btn_MyCard.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnMyCard,this),this._btn_login.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnLogin,this)},e.prototype.refresh=function(){this._btn_login.visible=!0,this._login.visible=!1,this._netPro.thumb.source=RES.getRes("img_plist0_net")},e.prototype.setCpuNet=function(t,e){this._cpuPro.value=t,this._netPro.value=e,this._font_cpu.text=t.toFixed(0)+"%",this._font_net.text=e.toFixed(0)+"%"},e.prototype.setMoney=function(t){this._money.text=t.toFixed(1)+"EOS"},e.prototype.onBtnLogin=function(){Game_EOS.ins.login()},e.prototype.loginOver=function(){1==User.ins.loginType?(this._btn_login.visible=!1,this._login.visible=!0):(this._btn_login.visible=!0,this._login.visible=!1)},e.prototype.onBtnMyCard=function(){UIMyCard.ins.show()},e}(eui.Component);__reflect(UIHallLogin.prototype,"UIHallLogin");var UIOpenDoor=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/hall/openDoorSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){},e.prototype.show=function(){MScene.ins.addpopScene(e.ins),this.doOpenTheDoor()},e.prototype.doOpenTheDoor=function(){var t=this;t._bg.y=0,egret.Tween.get(t._bg).to({y:-1820},1e3).call(function(){egret.Tween.removeTweens(t._bg),MScene.ins.closepopScene()})},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIOpenDoor.prototype,"UIOpenDoor");var UIMyCard=function(t){function e(){var e=t.call(this)||this;return e._openTap=EMyCardRadioTap.Wait,e.arrCollectionDate=new Array,e.skinName="resource/skin/myCard/myCardSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_back.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBack,this),this._radio_wait.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnWait,this),this._radio_over.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnOver,this),this.myCollection=new eui.ArrayCollection(this.arrCollectionDate),this._scr_dataGroup.dataProvider=this.myCollection,this._scr_dataGroup.itemRenderer=UIMyCardItem,this.before()},e.prototype.show=function(){MScene.ins.addBottomScene(e.ins)},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){this._openTap=EMyCardRadioTap.Wait,this._UIHallLogin.refresh()},e.prototype.refresh_UserInfo=function(){this._UIHallLogin.setCpuNet(User.ins.CPU,User.ins.NET),this._UIHallLogin.setMoney(User.ins.money)},e.prototype.refresh_CPUNET=function(t,e){this._UIHallLogin.setCpuNet(t,e)},e.prototype.refresh=function(){this._scr.visible=!1,this._openTap==EMyCardRadioTap.Over?(this.refresh_over(),this._UIHallLogin.shouLook()):(this.refresh_wait(),this._UIHallLogin.showGua()),this.refresh_UserInfo(),this._scr.visible=!0},e.prototype.cleanScrGroup=function(){this.arrCollectionDate=new Array,this.myCollection.replaceAll(this.arrCollectionDate),this.myCollection.refresh(),this._img_null.visible=!0,this._img_null.source=RES.getRes("img_plist1_img2"),this._img_img.visible=!0,this._img_img.source=RES.getRes("img_plist1_img18")
},e.prototype.refresh_wait=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n,i,o,i,r,n,i,r;return __generator(this,function(s){switch(s.label){case 0:return[4,Game_EOS.ins.getCardsCount()];case 1:if(t=s.sent(),null==t)return[2];for(this._scr_dataGroup.itemRenderer=UIMyCardItem,this.arrCollectionDate=new Array,e=Math.floor(t.card1Count/2),n=0;e>n;n++)i=new CCard,i.type=EOS.ScratchCardType.Pig,i.money=.1,this.arrCollectionDate.push([i,i]);for(o=0,t.card1Count%2>0&&(i=new CCard,r=null,i.type=EOS.ScratchCardType.Pig,i.money=.1,t.card2Count>0&&(r=new CCard,r.type=EOS.ScratchCardType.Pig,r.money=1,o=1),this.arrCollectionDate.push([i,r])),n=o;n<=t.card2Count-o;)i=new CCard,i.type=EOS.ScratchCardType.Pig,i.money=1,r=null,n+2<=t.card2Count&&(r=new CCard,r.type=EOS.ScratchCardType.Pig,r.money=1),this.arrCollectionDate.push([i,r]),n+=2;return this.myCollection.replaceAll(this.arrCollectionDate),this.myCollection.refresh(),this.arrCollectionDate.length>0?(this._img_null.visible=!1,this._img_img.visible=!1):(this._img_null.visible=!0,this._img_null.source=RES.getRes("img_plist1_img2"),this._img_img.visible=!0,this._img_img.source=RES.getRes("img_plist1_img18")),this._radio_wait.selected=!0,this._radio_over.selected=!1,[2]}})})},e.prototype.refresh_over=function(){this._scr_dataGroup.itemRenderer=UIMyCardItem2,this.arrCollectionDate=new Array;for(var t=0;t<User.ins.arrOpenHistoy.length&&null!=User.ins.arrOpenHistoy[t+1];){var e=User.ins.arrOpenHistoy[t],n=User.ins.arrOpenHistoy[t+1],i=JSON.parse(e),o=JSON.parse(n);this.arrCollectionDate.push([i,o]),t+=2}if(User.ins.arrOpenHistoy.length%2>0){var e=User.ins.arrOpenHistoy[User.ins.arrOpenHistoy.length-1],i=JSON.parse(e);this.arrCollectionDate.push([i,null])}this.myCollection.replaceAll(this.arrCollectionDate),this.myCollection.refresh(),this.arrCollectionDate.length>0?(this._img_img.visible=!1,this._img_null.visible=!1):(this._img_null.visible=!0,this._img_null.source=RES.getRes("img_plist1_img1"),this._img_img.visible=!0,this._img_img.source=RES.getRes("img_plist1_img18")),this._radio_wait.selected=!1,this._radio_over.selected=!0},e.prototype.onBtnWait=function(){this._openTap==EMyCardRadioTap.Over&&(this._openTap=EMyCardRadioTap.Wait,this.refresh())},e.prototype.onBtnOver=function(){this._openTap==EMyCardRadioTap.Wait&&(this._openTap=EMyCardRadioTap.Over,this.refresh())},e.prototype.onBtnBack=function(){UIHall.ins.show()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIMyCard.prototype,"UIMyCard");var EMyCardRadioTap;!function(t){t[t.Wait=0]="Wait",t[t.Over=1]="Over"}(EMyCardRadioTap||(EMyCardRadioTap={}));var UIMyCardBottom=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/myCard/myCardBottomSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),e.prototype.onCreate=function(){this._btn_buy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBuy,this),this._btn_buy0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBuy,this),this._btn_yjgj.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnYJGJ,this)},e.prototype.refresh=function(){this._btn_yjgj.visible=!1,this._netPro.thumb.source=RES.getRes("img_plist0_net")},e.prototype.setCpuNet=function(t,e){this._cpuPro.value=t,this._netPro.value=e,this._font_cpu.text=t.toFixed(0),this._font_net.text=e.toFixed(0)},e.prototype.setMoney=function(t){this._money.text=t.toFixed(1)+"EOS"},e.prototype.showGua=function(){this._gp_gua.visible=!0,this._gp_look.visible=!1},e.prototype.shouLook=function(){this._gp_gua.visible=!1,this._gp_look.visible=!0},e.prototype.onBtnYJGJ=function(){UIAllOpen.ins.show()},e.prototype.onBtnBuy=function(){UIHall.ins.show()},e}(eui.Component);__reflect(UIMyCardBottom.prototype,"UIMyCardBottom");var UIMyCardItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/myCard/myCardItemSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),e.prototype.onCreate=function(){this._btn_open0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtn0,this),this._btn_open1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtn1,this)},e.prototype.dataChanged=function(){var t=this.data;null!=t[0]?(this._img_card0.visible=!0,this._btn_open0.visible=!0):(this._img_card0.visible=!1,this._btn_open0.visible=!1),null!=t[1]?(this._img_card1.visible=!0,this._btn_open1.visible=!0):(this._img_card1.visible=!1,this._btn_open1.visible=!1)},e.prototype.onBtn0=function(){this.onBtn(0)},e.prototype.onBtn1=function(){this.onBtn(1)},e.prototype.onBtn=function(t){return __awaiter(this,void 0,void 0,function(){var e,n;return __generator(this,function(i){switch(i.label){case 0:return e=this.data,User.ins._card=e[t],MScene.ins.closeTopScene(),[4,Game_EOS.ins.openCard(e[t].type,e[t].money)];case 1:return n=i.sent(),1==n.isError&&(UIHall.ins.show(),UIOpenCardWait.ins.closeScene()),[2]}})})},e}(eui.ItemRenderer);__reflect(UIMyCardItem.prototype,"UIMyCardItem");var UIMyCardItem2=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/myCard/myCardItem2Skin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),e.prototype.onCreate=function(){this._img_card0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnCard0,this),this._img_card1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnCard1,this),this._btn_open0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtn0,this),this._btn_open1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtn1,this)},e.prototype.dataChanged=function(){var t=this.data;null!=t[0]?(this._img_card0.visible=!0,this._btn_open0.visible=!0,this._font0.visible=!0,this._font0.text="中奖"+t[0].winMoney+"EOS"):(this._img_card0.visible=!1,this._btn_open0.visible=!1,this._font0.visible=!1),null!=t[1]?(this._img_card1.visible=!0,this._btn_open1.visible=!0,this._font1.visible=!0,this._font1.text="中奖"+t[1].winMoney+"EOS"):(this._img_card1.visible=!1,this._btn_open1.visible=!1,this._font1.visible=!1)},e.prototype.onBtnCard0=function(){this.onBtnCard(0)},e.prototype.onBtnCard1=function(){this.onBtnCard(1)},e.prototype.onBtnCard=function(t){var e=this.data;UIWinGame.ins.show(e[t])},e.prototype.onBtn0=function(){this.onBtn(0)},e.prototype.onBtn1=function(){this.onBtn(1)},e.prototype.onBtn=function(t){var e=this.data;UIBuyCard.ins.show(e[t])},e}(eui.ItemRenderer);__reflect(UIMyCardItem2.prototype,"UIMyCardItem2");var UIEquity=function(t){function e(){var e=t.call(this)||this;return e._gameid=0,e._seed="",e.skinName="resource/skin/tips/equitySkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_iknow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._bg_seed.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnCopy,this)},e.prototype.show=function(){MScene.ins.addSceneToTop(e.ins),this.before()},e.prototype.before=function(){this.refresh()},e.prototype.init=function(){this._gameid=Game_EOS.ins.getController().game.id,this._seed=Game_EOS.ins.getController().game.seed},e.prototype.refresh=function(){this._title.source=RES.getRes("img_plist0_img7"),this._btn_iknow.source=RES.getRes("img_plist0_img11"),this._font_tips0.text=AllLang.ins.lang[ELangType.EQUITY_EQUITY],this._font_tips1.text=AllLang.ins.lang[ELangType.EQUITY_TIPS0],this._font_tips2.text=AllLang.ins.lang[ELangType.EQUITY_TIPS1],this._font_tips3.text=AllLang.ins.lang[ELangType.EQUITY_ID]+this._gameid,this._font_tips4.text=AllLang.ins.lang[ELangType.EQUITY_SEED],this._font_tips5.text=this._seed,this._font_copy.text=AllLang.ins.lang[ELangType.TJYJ_COPY]},e.prototype.onBtnCopy=function(){this.copy(this._seed)},e.prototype.copy=function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("Copy"),document.body.removeChild(e),this._wind.addChild(new UIFontTips(AllLang.ins.lang[ELangType.TJYJ_COPY_TIPS]))},e.prototype.onBtnClose=function(){MScene.ins.closeTopScene()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIEquity.prototype,"UIEquity");var UIHelp=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/tips/helpSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_iknow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this)},e.prototype.show=function(){MScene.ins.addSceneToTop(UIEquity.ins),this.before()},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){},e.prototype.refresh=function(){this._title.source=RES.getRes("img_plist0_img10"),this._btn_iknow.source=RES.getRes("img_plist0_img11"),this._font_tips1.text=AllLang.ins.lang[ELangType.HELP_TIPS0],this._font_tips2.text=AllLang.ins.lang[ELangType.HELP_TIPS1]},e.prototype.onBtnClose=function(){MScene.ins.closeTopScene()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIHelp.prototype,"UIHelp");var UILoss=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/tips/lossSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this)},e.prototype.show=function(){MScene.ins.addSceneToTop(e.ins),this.before()},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){},e.prototype.refresh=function(){},e.prototype.onBtnClose=function(){MScene.ins.closeTopScene()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UILoss.prototype,"UILoss");var UIMore=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/tips/moreSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._back.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBack,this),this._gp_btn_tjyj.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnTJYJ,this),this._gp_btn_gpx.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnGPX,this),this._btn_Twitter.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnTwitter,this),this._btn_Telegram.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnTelegram,this)},e.prototype.show=function(){MScene.ins.addWindowScene(e.ins),this.before()},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){},e.prototype.refresh=function(){this.setState(User.ins.loginType)},e.prototype.setState=function(t){1==t?(this.currentState="login",this._name.text=Game_EOS.ins.getEOSAccount().name):this.currentState="logout",this.validateNow()},e.prototype.onBtnTJYJ=function(){MScene.ins.closeWindowScene(),UITJYJ.ins.show()},e.prototype.onBtnGPX=function(){MScene.ins.closeWindowScene(),UIEquity.ins.show()},e.prototype.onBtnTwitter=function(){window.location.href="https://twitter.com/dapp365"},e.prototype.onBtnTelegram=function(){window.location.href="https://t.me/dapp365"},e.prototype.onBtnClose=function(){MScene.ins.closeWindowScene()},e.prototype.onBtnBack=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return MScene.ins.showNetWait(!0),[4,Game_EOS.ins.logout()];case 1:return t.sent(),MScene.ins.closeWindowScene(),MScene.ins.showNetWait(!1),[2]}})})},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIMore.prototype,"UIMore");var UIOpenCardWait=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/tips/openCardWaitSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){},e.prototype.show=function(){MScene.ins.addpopScene(e.ins),this.before()},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){},e.prototype.refresh=function(){null==this._mc?this.createMovieClip():this._mc&&this._mc.gotoAndPlay("wait",-1)},e.prototype.createMovieClip=function(){if(null==this._mc){var t=RES.getRes("waitAct_json"),e=RES.getRes("waitAct_png"),n=new egret.MovieClipDataFactory(t,e);this._mc=new egret.MovieClip(n.generateMovieClipData("wait")),this._mc.x=0,this._mc.y=0}this._show_act.addChild(this._mc),this._mc.gotoAndPlay("wait",-1)},e.prototype.closeScene=function(){this._mc&&this._mc.stop(),MScene.ins.closepopScene()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIOpenCardWait.prototype,"UIOpenCardWait");var UITJYJ=function(t){function e(){var e=t.call(this)||this;return e._url="",e.skinName="resource/skin/tips/tjyjSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_iknow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._gp_url.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnCopy,this)},e.prototype.show=function(){MScene.ins.addSceneToTop(e.ins),this.before()},e.prototype.before=function(){this.init(),this.refresh()},e.prototype.init=function(){this._url=Game_EOS.ins.getShareUrl(),this._font_url.text=this._url},e.prototype.refresh=function(){this._title.source=RES.getRes("img_plist0_img9"),this._btn_iknow.source=RES.getRes("img_plist0_img11"),this._font_mytuij.text=AllLang.ins.lang[ELangType.TJYJ_FONT0],this._font_tips.text=AllLang.ins.lang[ELangType.TJYJ_FONT1],this._font_tips1.text=AllLang.ins.lang[ELangType.TJYJ_FONT2],this._font_tips2.text=AllLang.ins.lang[ELangType.TJYJ_FONT3],this._font_copy.text=AllLang.ins.lang[ELangType.TJYJ_COPY]},e.prototype.onBtnCopy=function(){this.copy(this._url)},e.prototype.copy=function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("Copy"),document.body.removeChild(e),this._wind.addChild(new UIFontTips(AllLang.ins.lang[ELangType.TJYJ_COPY_TIPS]))},e.prototype.onBtnClose=function(){MScene.ins.closeTopScene()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UITJYJ.prototype,"UITJYJ");var UIWin=function(t){function e(){var e=t.call(this)||this;return e._data=null,e.skinName="resource/skin/tips/winSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._btn_buy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnBuy,this),this._btn_openNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnNext,this)},e.prototype.show=function(t,n,i){void 0===t&&(t=0),this._data=n,MScene.ins.addSceneToTop(e.ins),this.before(t,i)},e.prototype.before=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.init(),this.refresh(t,e)},e.prototype.init=function(){},e.prototype.refresh=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),1==t?(this._gp_zj.visible=!0,this._font_tips.visible=!1):(this._gp_zj.visible=!1,this._font_tips.visible=!0),this._font_win.text=e+"EOS"},e.prototype.onBtnBuy=function(){UIBuyCard.ins.show(this._data)},e.prototype.onBtnNext=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return MScene.ins.closeTopScene(),[4,Game_EOS.ins.openCard(this._data.type,this._data.money)];case 1:return t=e.sent(),1==t.isError&&(UIHall.ins.show(),UIOpenCardWait.ins.closeScene()),[2]}})})},e.prototype.onBtnClose=function(){MScene.ins.closeTopScene()},e.prototype.close=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(UIWin.prototype,"UIWin");var UIWinGame=function(t){function e(){var e=t.call(this)||this;return e._data=null,e.skinName="resource/skin/winGame/winGameSkin.exml",e.once(egret.Event.ADDED_TO_STAGE,e.onCreate,e),e}return __extends(e,t),Object.defineProperty(e,"ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.onCreate=function(){this._btn_zmyz.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnZMYZ,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this)},e.prototype.show=function(t){MScene.ins.addMiddleScene(e.ins),this._data=t,this.refresh()},e.prototype.refresh=function(){this._UIGameCard0Bg.refresh(this._data.card),this._UIGameCard0Bg.showWinNum()},e.prototype.onBtnZMYZ=function(){UIBuyCard.ins.show(this._data)},e.prototype.onBtnClose=function(){MScene.ins.closeMiddleScene()},e.prototype.close=function(){},e}(eui.Component);__reflect(UIWinGame.prototype,"UIWinGame");